{% extends "HeaderFiles/header.html" %}
{% block content %}
{% load staticfiles %}

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

{% include "analyzer/includes/javascriptsnippet.js" %}

<div class="row">
<!-- Map Image -->
	<div class="col-md-4">
		<img src="{% static 'img/inferno_newcrop.png' %}" id="minimap" width="456" height="451" onclick="get_position()">
	</div>

	{% csrf_token %}
<!-- Nade/bomb/player info -->
	<div class="col-md-3">
		<b>Game Objects:</b><br>
		<textarea name="gameobjectsbox" id="gameobjectsbox" cols="35" rows="5" readonly="true"></textarea>
		<br>
		<b>Nade/Bomb:</b>
		<br>
		<div class="btn-group">
			<button type="button" onclick="setActive('Smoke')" class="btn btn-primary btn-sm">Smoke</button>
			<button type="button" onclick="setActive('Flash')" class="btn btn-primary btn-sm">Flash</button>
			<button type="button" onclick="setActive('Molly')" class="btn btn-primary btn-sm">Molly</button>
			<button type="button" onclick="setActive('HE')" class="btn btn-primary btn-sm">HE</button>
			<button type="button" onclick="setActive('Decoy')" class="btn btn-primary btn-sm">Decoy</button>	
		</div>
		<div class="btn-group">
			<button type="button" onclick="setActive('BombDown')" class="btn btn-primary btn-sm">Bomb Down</button>
			
			<button type="button" onclick="setActive('BombPlanted')" class="btn btn-primary btn-sm">Bomb Planted</button>
		</div>
		<br>

		
		<span class="form-inline">
			<label for="weapon"><b>Weapon:&emsp;&nbsp;&nbsp;&nbsp;&nbsp;</b></label>
			<select class="form-control input-sm" id="weapon" name="weapon">
				{% include "analyzer/includes/weaponsnippet.html" %}
			</select>
		</span>
		<br>
		<div class="btn-group">
			<button type="button" onclick="setActive('T')" class="btn btn-primary btn-sm">&nbsp;T&nbsp;</button>
			<button type="button" onclick="setDead('T')" class="btn btn-primary btn-sm">Dead T</button>
			<button type="button" onclick="setActive('CT')" class="btn btn-primary btn-sm">&nbsp;CT&nbsp;</button>
			<button type="button" onclick="setDead('CT')" class="btn btn-primary btn-sm">Dead CT</button>	
		</div>
		<div>
			<button return="false" id="query" class="btn btn-success btn-md" onclick="runQuery()">GO!</button>
			&emsp;&emsp;&emsp;&nbsp;
			<button type="button" onclick="clearGameObjects()" class="btn btn-danger btn-md">Clear Board</button>
		</div>
	
	<h4>Instructions:</h4>
	<p>Use the buttons to select a player or grenade.</p>
	<p>Then, click the location of the player or nade on the map.</p>
	<p>Unspecified players will default to any status in the search. Nades and bombs will also always be variable in the results.</p>
	
<!--End of middle column-->
	</div>

<!-- Controls/Options/Run Query -->
	<div class="col-md-4">
		<h4>Options:</h4>
		<div>
			<div class="col-xs-4">
			<b>Rank:</b>
				<select id="rank" class="form-control input-sm">
					<option value="pro">Pro</option>
					<option value="all">All</option>
					<option value="allmm">All MM</option>
					<option value="global">Global</option>
					<option value="smfc">SMFC</option>
					<option value="eagle">Eagle</option>
					<option value="mgedmg">MGE/DMG</option>
					<option value="mg">MG1/2</option>
					<option value="gn34">GN3/4</option>
					<option value="gn12">GN1/2</option>
					<option value="s45">Silver4/5</option>
					<option value="s123">ChuBot's Level</option>
				</select>
			<b>Similarity threshold:</b>
				<input id="threshold" type="text" value="0.81" class="form-control input-sm">
			<b>Smoke minimum:</b>
				<input id="smokemin" type="text" value="-8" class="form-control input-sm">
			<b>Molly minimum:</b>
				<input id="mollymin" type="text" value="-4" class="form-control input-sm">
			<b>Flash minimum:</b>
				<input id="flashmin" type="text" value="-2" class="form-control input-sm">
			<b>HE minimum:</b>
				<input id="hemin" type="text" value="-2" class="form-control input-sm">
			</div>
			<div class="col-xs-4">
			<b>Map:</b>
				<select id="map" class="form-control input-sm">
					<option value="inferno">Inferno</option>
				</select>
			<b>Distance tolerance:</b>
				<input id="distance" type="text" value="400" class="form-control input-sm">
			<b>Smoke maximum:</b>
				<input id="smokemax" type="text" value="-1" class="form-control input-sm">
			<b>Smoke maximum:</b>
				<input id="mollymax" type="text" value="0" class="form-control input-sm">
			<b>Flash maximum:</b>
				<input id="flashmax" type="text" value="1" class="form-control input-sm">
			<b>HE maximum:</b>
				<input id="hemax" type="text" value="1" class="form-control input-sm">
			</div>
		</div>
	<!--End of control column-->
	</div>
<!--End of row div-->
</div>

<!-- Pie chart results -->
<div class="col-md-4">
	<h3>Results:</h3>
	<div id="piechart" style="width: 400px; height: 300px;"></div>
</div>

<!-- Table showing games-->
<div class="col-md-4">
	<br>
	<table id="gamedata" style="width:100%">
		<tr>
			<th>Similarity</th>
			<th>Win Reason</th>
			<th>Score (T, CT)</th>
			<th>Match Link (Round Number)</th>
		</tr>
	</table>
</div>

{% endblock %}	